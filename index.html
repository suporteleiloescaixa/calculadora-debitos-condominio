const { default: makeWASocket, useMultiFileAuthState } = require('@whiskeysockets/baileys')

async function startBot() {
  const { state, saveCreds } = await useMultiFileAuthState('auth')
  const sock = makeWASocket({ auth: state })

  sock.ev.on('creds.update', saveCreds)

  sock.ev.on('messages.upsert', async ({ messages, type }) => {
    if (type !== 'notify') return
    const msg = messages[0]
    const sender = msg.key.remoteJid
    const text = msg.message?.conversation?.toLowerCase() || ''

    if (text === 'oi' || text === 'menu') {
      await sock.sendMessage(sender, {
        text: `ğŸ‘‹ OlÃ¡! Bem-vindo Ã  *ImobiliÃ¡ria X*.

Digite o nÃºmero do assunto que deseja:
1ï¸âƒ£ LeilÃµes
2ï¸âƒ£ Financiamento habitacional
3ï¸âƒ£ Aluguel
4ï¸âƒ£ Compra
        `
      })
    }

    if (text === '1') {
      await sock.sendMessage(sender, {
        text: `ğŸ›ï¸ *LeilÃµes de imÃ³veis*

ğŸ“ Qual cidade vocÃª procura?
ğŸ’° Qual seu orÃ§amento mÃ¡ximo?
ğŸ—“ JÃ¡ participou de leilÃµes antes?
ğŸ“„ Precisa de ajuda com documentaÃ§Ã£o?
        `
      })
    }

    if (text === '2') {
      await sock.sendMessage(sender, {
        text: `ğŸ  *Financiamento Habitacional*

âœ… JÃ¡ tem imÃ³vel em mente?
ğŸ“ˆ Qual sua renda mensal?
ğŸ¦ Tem banco de preferÃªncia?
ğŸ“‘ JÃ¡ tem carta de crÃ©dito?
        `
      })
    }

    if (text === '3') {
      await sock.sendMessage(sender, {
        text: `ğŸ™ï¸ *Aluguel de ImÃ³veis*

ğŸ“ Qual regiÃ£o estÃ¡ buscando?
ğŸ’° Valor mÃ¡ximo do aluguel?
ğŸ  Tipo de imÃ³vel: casa, apÃª, sala?
        `
      })
    }

    if (text === '4') {
      await sock.sendMessage(sender, {
        text: `ğŸ”‘ *Compra de ImÃ³vel*

ğŸ“ Qual cidade ou bairro?
ğŸ’° Qual o valor que pretende investir?
ğŸ  Tipo de imÃ³vel que procura?
        `
      })
    }
  })
}

startBot()
